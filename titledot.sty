\ProvidesPackage{titledot}[2009/07/10 v1.0 Vietnamese section]

\RequirePackage{ifthen}
\RequirePackage{titlesec}
\RequirePackage{titletoc}

\newboolean{nosubsection}

\titlelabel{\thetitle.\quad}
\contentsmargin{0pt}

\newcommand\@tenchuong{CHƯƠNG}
\newcommand{\titlename}[1]{\renewcommand{\@tenchuong}{ #1}}

\titlecontents{chapter}[	4.8pc]
  {\addvspace{3pt}\bfseries}
  {\contentslabel[\hfill\@tenchuong \ \thecontentslabel. ]{7pc}}%thay đổi tham số giãn chương trong mục lục VD Chương1.  Lời nói đầu
  {}
  {\dotfill\quad\thecontentspage}


\titlecontents{section}[2.8pc]
  {\addvspace{3pt}\bfseries}
  {\contentslabel[\thecontentslabel.]{2.5pc}} %thay đổi tham số giãn phần trong mục lục VD 3.3. Mở đầu
  {}
  {\dotfill\quad\thecontentspage}

\titlecontents{subsection}[2.8pc]
{\small}
   {\thecontentslabel. }
  {}
  {\dotfill\quad\thecontentspage}



\DeclareOption{nosubsection}{
\titlecontents*{subsection}[1.8pc]
  {\small}
  {\thecontentslabel. }
  {}
  {, \thecontentspage}
  [.---][.]
}


%%%%%%%%%%%

\ProcessOptions

\endinput
% \AtBeginDocument{%
%     \frenchspacing
%     \ifthenelse{\boolean{vnutf8}}{%
%         \PreloadUnicodePage{0}%
%         \PreloadUnicodePage{1}%
%         \PreloadUnicodePage{30}%
%         \ifx \UnicodeCharFilter \@undefined
 %          \UCSProtectionUnichar
%             \UCSProtectionIeC
%         \else
%             \UnicodeCharFilter\IeC
%         \fi
%    }{}}
% }{}

% end of vietnam.sty